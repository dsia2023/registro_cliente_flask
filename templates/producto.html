{% extends "base.html" %}
{% block title %}{{ producto.nombre }} - ALLTAK{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="row">
    <div class="col-md-6">
      <img src="{{ url_for('static', filename='img/' ~ producto.imagen) }}" class="img-fluid rounded" alt="{{ producto.nombre }}">
    </div>
    <div class="col-md-6">
      <h2>{{ producto.nombre }}</h2>
      <p class="text-muted">{{ producto.descripcion }}</p>
      <h4 class="text-primary">{{ producto.precio|formatear_precio }}</h4>
      <p>Stock disponible: {{ producto.stock }}</p>
      <a href="/carrito/agregar/{{ producto.id }}" class="btn btn-success">Agregar al carrito</a>
      <a href="/" class="btn btn-outline-secondary ms-2">Volver</a>
    </div>
  </div>
  <!-- 🔍 Modales por producto -->
{% for p in productos %}
<div class="modal fade" id="modalProducto{{ p.id }}" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{ p.nombre }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body text-center">
        <img src="{{ url_for('static', filename='img/' ~ p.imagen) }}" class="img-fluid rounded mb-3" style="max-height: 300px;">
        <p class="text-muted">{{ p.descripcion }}</p>
      </div>
      <div class="modal-footer justify-content-between">
        <a href="/producto/{{ p.id }}" class="btn btn-outline-primary">Ver detalles</a>
       <a href="/agregar-carrito/{{ p.id }}" class="btn btn-success">Agregar al carrito</a>
      </div>


    </div>
  </div>
</div>
{% endfor %}

</div>
{% endblock %}